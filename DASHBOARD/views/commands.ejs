<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- META TAGS -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/index.css" />
    <link rel="stylesheet" href="/commands.css" />
    <title><%= bot.name %></title>
  </head>
  <body>
    <!-- HEADER -->
    <%- include('header'); -%>

    <div class="d-flex justify-content-center command_head">
      <h1>Bot Commands</h1>
    </div>

    <!-- Bot Menu -->
    <div class="container px-lg-5" id="command_menu">
      <div class="row">
        <div class="col-sm-3" id="category">
          <div class="list-group" id="myList" role="tablist">
            <% Object.keys(commands).forEach((category,i)=>{ %>

            <a
              class="
                list-group-item list-group-item-action
                <%=
                i==0?'active':''
                %>
              "
              data-bs-toggle="list"
              href="#<%= category %>"
              role="tab"
              aria-controls="<%= category %> "
              ><%= category %></a
            >
            <% }) %>
          </div>
        </div>
        <div class="col-sm-9">
          <div class="tab-content">
            <% Object.keys(commands).forEach((category,k)=>{ %>
            <div
              class="tab-pane fade show <%= k==0?'active':'' %>"
              id="<%= category %>"
              role="tabpanel"
              aria-labelledby="list-home-list"
            >
              <div class="accordion" id="acc_<%= category %>">
                <% commands[category].forEach((cmd,i)=>{ %>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="h_<%= cmd.name %>">
                    <button
                      class="accordion-button <%= i==0? '':'collapsed' %>"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#c_<%= cmd.name %>"
                      aria-expanded="<%= i==0? 'true':'false' %>"
                      aria-controls="<%= cmd.name %>"
                    >
                      <%= cmd.name %>
                    </button>
                  </h2>
                  <div
                    id="c_<%= cmd.name %>"
                    class="accordion-collapse collapse <%= i==0? 'show':'' %>"
                    aria-labelledby="h_<%= cmd.name %>"
                    data-bs-parent="#acc_<%= category %>"
                  >
                    <div class="accordion-body">
                      <code>Descripion : </code><%= cmd.description %><br />
                      <code>Permissions : </code><% cmd.permissions.forEach(p =>
                      { %>
                      <kbd><%= p %></kbd>
                      <% }) %> <br />
                      <code>Aliases : </code><% cmd.aliases.forEach(a => { %>
                      <small class="text-muted">[?<%= a %>]</small>
                      <% }) %> <br />
                      <code>Usuage : </code
                      ><small><kbd><%= cmd.usuage %></kbd></small>
                    </div>
                  </div>
                </div>
                <% }) %>
              </div>
            </div>
            <% }) %>
          </div>
        </div>
      </div>
    </div>

    <!-- JAVASCRIPT -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kQtW33rZJAHjgefvhyyzcGF3C5TFyBQBA13V1RKPf4uH+bwyzQxZ6CmMZHmNBEfJ"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
